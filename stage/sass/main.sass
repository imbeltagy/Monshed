@import resets
@import configs
@import components

// Navigator
// =========
// 1. Global Rules
// 2. Hero
// 3. About
// 4. Testimonials
// 5. Implementations
// 6. Last Interact
// 7. Footer


// ===============
// 1. Global Rules
// ===============
html
  scroll-behavior: smooth
section
  scroll-margin-top: 5.2rem

body
  font-family: $f-ordinary
  color: $c-ordinary
  background-color: $bg-light

.bg-dark
  background-color: $c-ordinary
  color: $c-contrast

.container
  width: calc( 100% - $s-3 * 2 )
  margin-inline: auto
  &:not(.no-spaces)
    padding: $s-5 0
  &.fluid
    max-width: 100rem
  &:not(.fluid)
    @include md-screens
      width: 48rem
    @include lg-screens
      width: 73rem

.img-container
  position: relative
  img 
    width: 100%
    height: auto
    &.high-res
      position: absolute
      top: 0
      left: 0
      width: 100%

// :not(.box) for Implements cards
[dir="ltr"] .ar
  display: none !important
:not(.box)[dir="rtl"] .en
  display: none !important

// =======
// 2. Hero
// =======
.hero
  position: relative
  min-height: 100svh
  display: grid
  place-items: center
  padding-top: 7.5rem
  background-image: url("../images/hero/hero-bg-md.png"), url("../images/hero/hero-bg-sm.png")
  background-position: right top
  background-size: cover
  background-repeat: no-repeat
  background-color: #0b1765
  @include lg-screens
    background-image: url("../images/hero/hero-bg-lg.png"), url("../images/hero/hero-bg-sm.png")
  @media (min-width: 3200px)
    background-image: url("../images/hero/hero-bg.png"), url("../images/hero/hero-bg-sm.png")


// Nav Bar
.navbar
  z-index: 100
  position: absolute
  top: 0
  left: 50%
  transform: translateX(-50%)
  display: flex
  align-items: center
  gap: $s-3
  padding: $s-3
  margin-top: $s-4
  background-color: $c-contrast
  margin-inline: auto
  transition: width $fast-trans, background-color $fast-trans
  @include md-screens
    justify-content: space-between
  &.fixed
    position: fixed
    width: 100%
    margin-top: 0
  &.nav-dark
    background-color: $c-ordinary
    color: $c-contrast

  .brand
    font-family: $f-special
    font-size: 2rem
    color: $c-accent
    line-height: 1
    max-width: calc(100% - 4rem)

  .nav-icon
    position: relative
    margin-inline-start: auto
    width: 1.5rem
    flex-shrink: 0
    aspect-ratio: 1 / 1
    cursor: pointer
    overflow: hidden
    @include md-screens
      display: none

    span
      display: block
      position: absolute
      left: 0
      width: 100%
      height: .2rem
      background-color: $c-ordinary
      border-radius: .1rem
      transition: background-color $fast-trans, inset $fast-trans, transform $fast-trans
      &:first-child
        top: 0
      &:nth-child(2)
        top: 50%
        transform: translateY(-50%)
      &:last-child
        bottom: 0
    &:hover span
      background-color: $c-accent
    &.opened span
      &:first-child
        top: 50%
        left: 50%
        transform: translate(-50%, -50%) rotate(45deg)
      &:nth-child(2)
        left: 100%
      &:last-child
        bottom: 50%
        left: 50%
        transform: translate(-50%, 50%) rotate(-45deg)
  
  &.nav-dark .nav-icon:not(:hover) span
    background-color: $c-contrast

  .nav-list
    position: absolute
    top: 100%
    inset-inline-end: 0
    display: grid
    grid-template-rows: 0fr
    transition: grid-template-rows $md-trans
    background-color: inherit
    &.opened
      grid-template-rows: 1fr
    @include md-screens
      position: static
      display: flex
      align-items: center
      height: auto

    ul
      overflow: hidden
      @include md-screens
        overflow: visible
        display: flex
        gap: $s-4
      
    li
      font-size: 1.1rem
      cursor: pointer
      position: relative
      &:hover
        color: $c-accent
      &::before
        content: ""
        position: absolute
        top: 0
        inset-inline-end: 0
        width: 100%
        height: .1rem
        background-color: $c-ordinary
        transition: width $fast-trans, background-color $fast-trans
      @include md-screens
        &:not(#lang-switcher)::before
          top: 100%
          width: 0
          height: .2rem
          border-radius: .1rem
        &:not(#lang-switcher):hover::before
          inset-inline-end: auto
          inset-inline-start: 0
          width: 100%
          background-color: $c-accent

      a
        display: inline-block
        color: inherit
        font-size: 1.1em
        font-weight: 500
        text-decoration: none
        transition: color $fast-trans
        padding: $s-3 $s-5
        @include md-screens
          padding: 0

    #lang-switcher
      cursor: pointer
      align-self: center
      @include md-screens
        &::before
          background-color: unset 
      img
        padding: $s-3 $s-5
        max-width: 2.5rem + $s-5 + $s-5
        box-sizing: content-box
        @include md-screens
          max-width: 2.5rem
          padding: 0
  
  &.nav-dark li::before
    background-color: $c-contrast

// Main
main .container
  text-align: center
  height: 100%
  display: flex
  flex-direction: column-reverse
  align-items: center
  justify-content: flex-end
  gap: $s-4
  padding-top: $s-4
  @include md-screens
    flex-direction: row
    justify-content: space-between
    padding-top: $s-5

  .text
    width: min(30rem, 90vw)
    white-space: balance
    text-align: center
    @include md-screens
      width: auto
      text-align: start
    font-size: 1.3rem

    .welcome
      color: $c-contrast
      font-weight: 700

    h1
      color: $c-accent
      font-family: $f-special
      font-size: 2em
      line-height: 1
      margin-bottom: .2em
      @include lg-screens
        font-size: 3em
    
    .brief
      color: $c-contrast
      font-size: .85em

[dir="ltr"] h1, [dir="ltr"] .caption
  letter-spacing: .05em

main
  .container .picture
    position: relative
    flex-shrink: 0
    width: 100%
    @include md-screens
      max-width: 22rem
    @include lg-screens
      max-width: 30rem

    .img-container
      width: 100%

      img
        aspect-ratio: 1 / 1

[dir="rtl"] main .picture .img-container
  transform: scaleX(-1)

// ========
// 3. About
// ========
.about .cards
  display: grid
  align-items: flex-start
  gap: $s-3
  @include md-screens
    grid-template-columns: 1fr 1fr
  @include lg-screens
    grid-template-columns: 1fr 1fr 1fr

  .card
    background-color: $c-ordinary
    color: $c-contrast
    overflow: hidden
    display: grid
    grid-template-rows: auto 1fr auto

    img
      width: 100%

    .text
      padding: $s-3
      padding-bottom: $s-2

      h3
        font-size: 1.4rem
        line-height: 2
        font-family: $f-special

      p
        margin-top: $s-3
      
      h4
        padding: $s-3 0  $s-2
      
      li:not(:last-child)
        margin-bottom: $s-2
      
    a
      display: block
      color: inherit
      text-decoration: none
      margin: 0 $s-3 $s-3
      &:hover
        color: $c-accent

      i, svg
        font-size: 1.2em
        display: inline-block
        margin-inline-end: $s-2

[dir="ltr"] .about .cards
  @include lg-screens
    .card
      min-height: 34rem
  h3
    letter-spacing: .05em

// ===============
// 4. Testimonials
// ===============
.testimonials
  .cards-container
    @include md-screens
      --images-count: 2
    @include lg-screens
      --images-count: 3

  .card
    color: rgb($c-ordinary, 80%)
    padding: $s-3
    display: grid
    grid-template-rows: auto 1fr
    align-items: center

    .name
      display: block
      font-size: 1.1rem

    blockquote
      position: relative
      color: $c-ordinary
      font-weight: 900
      font-size: 1.2rem
      text-align: center
      margin: $s-2 0

      q::before
        font-size: 1.8rem
        position: absolute
        right: 0
        top: -.333rem
      q::after
        font-size: 1.5rem
        position: absolute
        left: 0
        bottom: -.333rem
  
  .slider-controls
    display: flex
    justify-content: center
    padding: $s-5
    gap: min(10rem, 40%)
      

[dir="ltr"] .testimonials
  .card
    display: flex
    align-items: flex-start
    flex-direction: column
    justify-content: space-between

// =================
// 5. Implementations
// =================
.implementations .lecture
  &:not(:last-child)
    margin-bottom: $s-5

  .title
    font-size: 1.5rem
    // text-decoration: underline
    margin-bottom: $s-4
  
  .lecture-content
    display: grid
    align-items: flex-start
    gap: $s-3
    grid-template-columns: 1fr
    @include md-screens
      grid-template-columns: 1fr 1fr
    @include lg-screens
      grid-template-columns: 1fr 1fr 1fr 1fr

    .box
      background-color: $c-ordinary
      color: $c-contrast
      line-height: 1.8

      > .content
        padding: $s-3

        .img-container
          position: relative
          pointer-events: none
          @include md-screens
            pointer-events: all
            height: 15rem
            cursor: pointer
          &::after
            font-family: 'Font Awesome 6 Free'
            font-weight: 900
            content: "\f00e"
            position: absolute
            inset: 0
            color: #fff
            font-size: 3rem
            display: grid
            place-items: center
            background-color: #0003
            opacity: 0
            transition: opacity $fast-trans
          &:hover::after
            @include md-screens
              opacity: 1

          img
            height: 100%
            object-fit: cover
            object-position: center top

      .text
        padding: $s-3
        padding-bottom: 0

      p
        margin-top: $s-2

  [data-name="lecture1"] + .lecture-content .box
    display: grid
    grid-template-rows: 1fr auto
    @include md-screens
      min-height: 17rem
    @include lg-screens
      min-height: 19rem

  [data-name="lecture2"] + .lecture-content
    @include md-screens
      grid-template-columns: 1fr
    @include lg-screens
      grid-template-columns: 1fr 1fr

  [data-name="lecture3"] + .lecture-content
    align-items: flex-start
    @include md-screens
      grid-template-columns: 1fr 1fr 1fr
    @include lg-screens
      grid-template-columns: 1fr 1fr 1fr
    
#showImg
  position: fixed
  z-index: 100
  inset: 0
  background-color: #0009
  display: none
  place-items: center

  .content
    display: grid
    place-items: center
    max-width: min(50rem, 90vw)
  
    .close-btn
      margin-inline-start: auto
      color: $c-contrast
      font-size: 2rem
      cursor: pointer

    .img-container
      width: 100%

      img
        display: block
        max-height: calc(95svh - 5rem)

// ================
// 6. Last Interact
// ================
.last-interact
  background-image: url("../images/hero/hero-bg-md.png"), url("../images/hero/hero-bg-sm.png")
  background-attachment: fixed
  background-size: cover
  background-position: center
  background-repeat: no-repeat
  background-color: #0b1765
  color: $c-contrast
  @include lg-screens
    background-image: url("../images/hero/hero-bg-lg.png"), url("../images/hero/hero-bg-sm.png")
  @media (min-width: 3200px)
    background-image: url("../images/hero/hero-bg.png"), url("../images/hero/hero-bg-sm.png")

  .container
    display: flex
    align-items: center
    flex-direction: column
    gap: $s-3

    .text
      font-size: 1rem
      text-align: center
      p:first-child
        font-size: 2em
      p:last-child
        font-size: 1em
        opacity: .9

    .btn
      font-size: 1.5rem

    @include md-screens
      flex-direction: row

      .text
        font-size: 1.25rem
        text-align: start
        flex-grow: 1
        p:first-child
          font-weight: 700

      .btn
        flex-shrink: 0
        font-size: 2rem
    
    @include lg-screens
      p
        font-size: 3rem

// =========
// 7. Footer
// =========
footer
  background-color: $c-ordinary
  color: $c-contrast

  .container
    display: flex
    flex-direction: column
    align-items: center
    gap: $s-3
    @include md-screens
      flex-direction: row
      justify-content: space-between

  .brand
    max-width: 200px

    img
      margin-bottom: $s-2
      height: auto

    .social
      width: 100%
      display: flex
      justify-content: space-between
      font-size: 1.5rem

      a
        cursor: pointer
        &:hover
          color: $c-accent

  .pagination
    flex-shrink: 0

  ul
    font-size: 1.1rem
    text-align: center
    @include sm-screens
      display: flex
      gap: $s-3

  a
    text-decoration: none
    color: inherit
    &:hover
      color: $c-accent